<!DOCTYPE html>
<html lang="fi">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Olli Maula">
    <meta charset="UTF-8">
    <title>Olli Maula - Full Stack</title>
</head>
<body>

    <h1 id="otsikko"></h1>
    
    <script id="H1T1">

        var v1 = 'haloo', v2 = 'maailma!', tulos = v1 + ' ' + v2;
        document.getElementById("otsikko").innerHTML = tulos;
        console.log(tulos);

    </script>

    <p id="H1T2">
        Harjoitus 1, Tehtävä 2; Kuvat --&gt
        <a href="images/jsbinH1T2.png" target="_blank"><img src="images/jsbinH1T2.png" alt="H1T2_jsbin_kuva" width="150" height="178"></a>
        <a href="images/jsfiddleH1T2.png" target="_blank"><img src="images/jsfiddleH1T2.png" alt="H1T2_jsfiddle_kuva" width="150" height="178"></a>
    </p>   

    <script id="H1T3">

        let arr_h3 = ["JavaScriptin", "opiskelu", "on", "ihanaa!"];
        let arr_str = '';

        for(let i = 0; i < arr_h3.length; i++) {
            if(i == arr_h3.length -1) { arr_str += arr_h3[i]; }
            else { arr_str += arr_h3[i] + ' '; };
        };

        console.log(arr_str)

    </script>

    <script id="H1T4">

    function suurin(arr) {

        let suurin_luku = 0;

        for(let i = 0; i < arr.length; i++) {
            if(suurin_luku < arr[i]) {
                suurin_luku = arr[i];
            };
        };

        return suurin_luku;

    };

    let arr_h4 = [1, 2, 3];

    console.log(suurin(arr_h4));

    </script>

    <script id="H1T5">

        function parilliset(arr) {
            
            let par_arr = [];

            for(let i = 0; i < arr.length; i++) {
                if(arr[i] % 2 == 0) {
                    par_arr += arr[i] + ' ';
                };
            };

            return par_arr;
            
        };

        let arr_h5 = [1, 2, 3, 4, 5, 6, 7, 8, 9];

        console.log(parilliset(arr_h5));

    </script>

    <div class="H1T6" style="outline: solid; outline-offset: 15px;">

        <h2>JavaScript-taulukon läpikäynti</h2>
        <p>for- ja for...of silmukoilla</p>
        <hr>
        <p id="harkka6"></p>

        <script id="H1T6">

            let taulukko = [11, 22, 33, 44];
            let summa = 0;
            let lukumaara = 0;
            let keskiarvo;
            let tulosrivit = '';

            for(const element of taulukko) {
                ++lukumaara;
                summa += element;
            };

            for (let i = 0; i < taulukko.length; i++) {
                tulosrivit += 'taulukko[' + i + '] = ' + taulukko[i] + '<br>';
            };

            keskiarvo = (summa/taulukko.length).toFixed(1);

            document.getElementById("harkka6").innerHTML = 'Taulukon alkiot ovat<br><br>' + tulosrivit + '<br><br>Taulukon alkioiden<br><br>lukumäärä: ' + lukumaara + '<br>summa: ' + summa + '<br>keskiarvo: ' + keskiarvo;


        </script>

    </div>

    <div class="H1T7" style="margin: 35px 0 25px 0;">

        <label for="vuosiluku">Syötä vuosiluku:</label><br>
        <input type="text" id="vluku" name="vuosiluku">
        <button onclick="karkaus(document.getElementById('vluku').value)">Tarkista vuosiluku!</button>
        <p id="karkaus_tulos"><br></p>

        <script id="H1T7">

            function karkaus(input) {

                if ((input % 4 == 0 && input % 100 != 0) || input % 400 == 0) {
                    document.getElementById('karkaus_tulos').innerHTML = 'On karkausvuosi!'
                    return true;
                }
                else {
                    document.getElementById('karkaus_tulos').innerHTML = 'Ei ole karkausvuosi!'
                    return false;
                };

            };

        </script>

    </div>

    <div class="H2T1" style="outline: solid; outline-offset: 15px;">

        <form id="f">
            <input type="text" id="n1"><br>
            <input type="text" id="n2"><br>
            <button type="button" onclick="tulostaSumma(f.n1.value, f.n2.value)">Laske</button>
            <div id="tulos"></div>
        </form>

        <script id="H2T1">

            function tulostaSumma(int1, int2) {
                function laskeSumma(int1, int2) {return parseInt(int1) + parseInt(int2)};
                document.getElementById('tulos').innerHTML = laskeSumma(int1, int2);
            };

        </script>

    </div>

    <div id="H2T2">

        <h3>Harjoitus 2, Tehtävä 2</h3>

        <p>
            const myFunctionWithCallback = (p1, p2, callback) =&gt {return callback(p1, p2)}; // tätä kutsutaan toisena. kolmas arg kutsuu nyt myFunc functiota. <br>
            const myFunc = (p1, p2) =&gt (`Pitsa ${p1} ja ${p2}`); // tätä kutsutaan kolmantena. tämä ajetaan loppuun ja palataan myFunctionWithCallback ja palautetaan täältä saatu arvo.<br>
            const result = myFunctionWithCallback('kinkulla', 'juustolla', myFunc); // tätä kutsutaan ensin.<br>
            console.log(result);
        </p>

    </div>

    <div id="H2T3">

        <h3>Harjoitus 2, Tehtävä 3</h3>

        <p>
            Ohjelma tulostaa consoleen "Task# finished" annetun timeoutin jälkeen. <br>
            Asynchronisesta suoritustavasta johtuen ohjelma tulostaa "Last code line executed" ennen "Task# finished" printtejä.
        </p>

    </div>

    <div class="H2T4" style="outline: solid; outline-offset: 15px; margin: 25px 0 25px 0;">

        <button type="button" id="disable_this" onclick="concert()">Aloita konsertti</button>

        <p id="gaga"></p>

        <script id="H2T4">

            function concert() {

                document.getElementById('disable_this').disabled = true;

                var timeout = 5000;

                document.getElementById('gaga').innerHTML = 'OMG - Lady Gaga start singing!'

                for(let i = 0; i < 4; i++, timeout += 5000) {
                    setTimeout( () => {document.getElementById('gaga').innerHTML += '<br>NICE - fireworks!'}, timeout);
                }

                setTimeout( () => {document.getElementById('gaga').innerHTML += '<br>WOW - It was the best concert in my life...'}, timeout - 3000);

            };

        </script>

    </div>

    <script id="H2T5">

        function Person(name, age, phone, email) {
            this.name = name;
            this.age = age;
            this.phone = phone;
            this.email = email;
            this.raise_age = () => {
                this.age += 1;
            };
        };

        let kalle = new Person('kalle', 12, '045 123 1123', 'kalle@email.fi');
        let tero = new Person('tero', 14, '045 134 1231', 'tero@email.fi');
        let ville = new Person('ville', 26, '045 145 1232', 'tero@email.fi');
        console.log (kalle, tero, ville);

    </script>

    <div class="H2T6">

        <form id="vl">

            <p>
                <b>Vauhtilaskin</b><br><br>
                Tunnit: <input type="number" value="1" id="h">
                Minuutit: <input type="number" value="13" id="m">
                Sekunnit: <input type="number" value="13" id="s">
                Kilometrit: <input type="number" value="20" id="km">
            </p>

            <button type="button" onclick="let obj_vl = new Vauhtilaskin(vl.h.value, vl.m.value, vl.s.value, vl.km.value)">
                Laske vauhdit
            </button>

            <span id="vauhti_results"></span>

        </form>

        <script id="H2T6">

            class Vauhtilaskin{

                calcKmhPace(tunnit, minuutit, sekuntit, kilometrit) {

                    let tunnit_laskuun = parseInt(tunnit)+(parseInt(minuutit)*60+parseInt(sekuntit))/3600;

                    this.kmh = (kilometrit/tunnit_laskuun).toFixed(2);

                };

                calcMinkmPace(tunnit, minuutit, sekuntit, kilometrit) {

                    let sekuntit_laskuun = parseInt(tunnit)*60*60 + parseInt(minuutit)*60 + parseInt(sekuntit); // sulkeita tänne
                    var sekunnitPerKm = sekuntit_laskuun/kilometrit;

                    var minuutit_laskuun = 0;

                    while (sekunnitPerKm >= 60){
                        minuutit_laskuun++;
                        sekunnitPerKm = sekunnitPerKm - 60;
                    };
                    sekunnitPerKm = Math.round(sekunnitPerKm);
                    sekunnitPerKm = String('0'+ sekunnitPerKm).slice(-2);

                    this.sekunnitPerKm = sekunnitPerKm;
                    this.minuutit_laskuun = minuutit_laskuun;

                };

                kmhpace() {
                    document.getElementById('vauhti_results').innerHTML = this.kmh + ' km/h | ';
                };

                minkmpace() {
                    document.getElementById('vauhti_results').innerHTML += this.minuutit_laskuun + ':' + this.sekunnitPerKm +'/km';
                };

                constructor (tunnit, minuutit, sekuntit, kilometrit) {

                    this.tunnit = tunnit;
                    this.minuutit = minuutit;
                    this.sekuntit = sekuntit;
                    this.kilometrit = kilometrit;

                    this.calcKmhPace(tunnit, minuutit, sekuntit, kilometrit);
                    this.calcMinkmPace(tunnit, minuutit, sekuntit, kilometrit);

                    this.kmhpace();
                    this.minkmpace();
                
                };

            };

        </script>

    </div>

</body>
</html>

